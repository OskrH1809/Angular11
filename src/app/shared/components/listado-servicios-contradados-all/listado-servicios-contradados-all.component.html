<div class="container-fluid">
  <h2 *ngIf="radioValue=='1'" class=" text-center pt-3">Listado de servicios contratados <span  style="color: red;" >sin aprobar</span></h2>
  <h2 *ngIf="radioValue=='2'" class=" text-center pt-3">Listado de servicios contratados <span  style="color: rgb(251, 102, 9);" >Pendientes de aprobar</span></h2>
  <h2 *ngIf="radioValue=='3'" class=" text-center pt-3">Listado de servicios contratados <span  style="color: #1b5b9b;" >aprobados</span></h2>
  <h2 *ngIf="radioValue=='7'" class=" text-center pt-3">Listado de servicios contratados <span  style="color: #595a5c;" >Pendientes de pago</span></h2>



  <div class="row">
    <div class="col-md-3 col-sm-12 espacio" >
      <h5>Seleccionar Estado</h5>

      <nz-radio-group [(ngModel)]="radioValue"  (ngModelChange)="filtro($event)" >
      <label nz-radio  style="color: red;" nzValue="1" >Sin aprobar</label>
      <label nz-radio style="color: rgb(251, 102, 9);" nzValue="2">Pendiente de aprobar</label>
      <label nz-radio style="color: #1b5b9b;" nzValue="3">Aprobado</label>
      <label nz-radio style="color: #595a5c;" nzValue="7">Pendiente de pago</label>

    </nz-radio-group>
    </div>
    <div class="col-md-9 col-sm-12">
      <!-- <button nz-button nzType="primary">Add</button> -->
  <br />
  <br />
  <nz-table #editRowTable nzBordered [nzData]="listOfData">
    <thead  *ngFor="let data of editRowTable.data">
      <tr  *ngIf="data.idEstado!=1 && data.idEstado!=7">
        <th class="text-center" nzWidth="10%">Id</th>
        <th class="text-center">Usuario</th>
        <th class="text-center">Servicio</th>
        <th class="text-center">Precio</th>
        <th class="text-center">Documento</th>
        <th class="text-center">Periodo de Pago</th>
        <th class="text-center">Estado</th>
      </tr>
      <tr *ngIf="data.idEstado==1 || data.idEstado==7">
        <th class="text-center" nzWidth="10%">Id</th>
        <th class="text-center">Usuario</th>
        <th class="text-center">Servicio</th>
        <th class="text-center">Precio</th>
        <th class="text-center">Periodo de Pago</th>
        <th class="text-center">Estado</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of editRowTable.data" class="editable-row">
        <td>
          {{ data.id }}
        </td>
        <td>{{ data.usuario }}</td>
        <td>{{ data.servicio }}</td>
        <td>{{ data.precio }}</td>
        <td class="text-center">
          <a
                                *ngIf="data.estado=='Pendiente de aprobaciÃ³n' || data.estado=='Aprobado'"
                                (click)="getDocumentsEspecific(data.id,data.idUsuario)"
                            >
                                <span
                                    nz-tooltip
                                    nzTooltipTitle="Visualizar comprobante de pago"
                                >
                                    <i
                                        style="font-size: 25px; color: #08c;"
                                        nz-icon
                                        nzType="eye"
                                        nzTheme="outline"
                                    ></i>
                                </span>
                            </a>
        </td>
        <td *ngIf="data.periodo_pago=='1'">
            Inicio de mes
        </td>
        <td *ngIf="data.periodo_pago=='2'">
            Fin de mes
      </td>
      <td class="text-center">
        <!-- {{data.estado}} -->
        <br>
        <a>
            <span
                (click)="showModal(data.id)"
                nz-tooltip
                nzTooltipTitle="Editar estado servicio {{data.servicio}}, Estado actual: {{data.estado}}"
            >
                <i
                    *ngIf="data.idEstado==1"
                    nz-icon
                    nzType="edit"
                    style="font-size: 25px; color: red;"
                    nzTheme="outline"
                ></i>
                <i
                    *ngIf="data.idEstado==2"
                    nz-icon
                    nzType="edit"
                    style="font-size: 25px; color: rgb(251, 102, 9);"
                    nzTheme="outline"
                ></i>
                <i
                    *ngIf="data.idEstado==3"
                    nz-icon
                    nzType="edit"
                    style="font-size: 25px; color: #3d9efe"
                    nzTheme="outline"
                ></i>
                <i
                *ngIf="data.idEstado==7"
                nz-icon
                nzType="edit"
                style="font-size: 25px; color: #595a5c"
                nzTheme="outline"
            ></i>
            </span>
        </a>
        <!-- <button nz-button [nzType]="'primary'" ><span>Show Modal</span></button> -->

    </td>
      </tr>
    </tbody>
    <nz-modal [(nzVisible)]="isVisible" nzTitle="Actualizar Estado" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
      <ng-container *nzModalContent>

      <!--select-->
      <br>
      <nz-select
          [(ngModel)]="selectedValue"
          (ngModelChange)="log($event)"
          nzAllowClear
          nzPlaceHolder="Seleccionar estado"
      >
          <nz-option
              *ngFor="let option of optionList"
              [nzValue]="option"
              [nzSize]="small"
              [nzLabel]="option.label"
          ></nz-option>
      </nz-select>


      </ng-container>
    </nz-modal>
  </nz-table>

    </div>


</div>
